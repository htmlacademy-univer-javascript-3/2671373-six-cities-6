import{c as n,j as a,L as i,a as _,b as o,r as t,e as v,l as m}from"./index-aa50c95b.js";const x=()=>a.jsx("nav",{className:"header__nav",children:a.jsx("ul",{className:"header__nav-list",children:a.jsx("li",{className:"header__nav-item user",children:a.jsxs(i,{className:"header__nav-link header__nav-link--profile",to:"/login",children:[a.jsx("div",{className:"header__avatar-wrapper user__avatar-wrapper"}),a.jsx("span",{className:"header__login",children:"Sign in"})]})})})}),j=()=>{const{profile:e}=n(l=>l.auth),{favorites:s}=n(l=>l.favorites),r=_(),c=o(),d=()=>{r(m()).then(()=>c("/login"))};t.useEffect(()=>{r(v())},[r]);const h=t.useMemo(()=>Object.values(s).flat(1).length,[s]);return a.jsx("nav",{className:"header__nav",children:a.jsxs("ul",{className:"header__nav-list",children:[a.jsx("li",{className:"header__nav-item user",children:a.jsxs(i,{className:"header__nav-link header__nav-link--profile",to:"/favorites",children:[a.jsx("div",{className:"header__avatar-wrapper user__avatar-wrapper",children:a.jsx("img",{src:e==null?void 0:e.avatarUrl,alt:"avatar",className:"user__avatar"})}),a.jsx("span",{className:"header__user-name user__name",children:e==null?void 0:e.email}),a.jsx("span",{className:"header__favorite-count",children:h})]})}),a.jsx("li",{className:"header__nav-item",children:a.jsx("a",{className:"header__nav-link",href:"#",onClick:d,children:a.jsx("span",{className:"header__signout",children:"Sign out"})})})]})})},N=()=>{const{authorizationStatus:e}=n(s=>s.auth);return a.jsx("header",{className:"header",children:a.jsx("div",{className:"container",children:a.jsxs("div",{className:"header__wrapper",children:[a.jsx("div",{className:"header__left",children:a.jsx(i,{className:"header__logo-link header__logo-link--active",to:"/",children:a.jsx("img",{className:"header__logo",src:"img/logo.svg",alt:"6 cities logo",width:"81",height:"41"})})}),e?a.jsx(j,{}):a.jsx(x,{})]})})})};export{N as H};
